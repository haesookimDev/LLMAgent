# Actions 명세

## 1. Perform Search
- **기능**: 사용자가 입력한 검색어 또는 LLM이 생성한 검색어를 기반으로 웹 검색을 실행.
- **구현 세부사항**:
  1. **Web Search Tool**을 호출하여 HTML과 검색 결과를 수집.
  2. 페이지 요약과 주요 링크를 정리.
- **입력**:
  - 검색어 (`query`).
  - 검색 옵션 (언어, 결과 개수 등).
- **출력**:
  - 검색 결과 요약 (텍스트 및 주요 링크).

---

## 2. Extract and Analyze HTML
- **기능**: 특정 HTML 태그에서 데이터 추출 및 요약 정보를 생성.
- **구현 세부사항**:
  1. LLM으로부터 받은 HTML 태그 정보를 기반으로 **HTML Extraction Tool** 호출.
  2. 추출된 데이터를 텍스트 요약 형식으로 변환.
- **입력**:
  - HTML 소스 (`html_content`).
  - 태그 정보 (`tag`, `attributes`).
- **출력**:
  - 추출된 텍스트 또는 구조화된 데이터.

---

## 3. Take Screenshot
- **기능**: 현재 페이지 상태를 시각적으로 저장.
- **구현 세부사항**:
  1. **Screenshot Tool**을 호출하여 이미지를 저장.
  2. 파일 경로를 LLM에 전달하거나 결과 보고서에 포함.
- **입력**:
  - 브라우저 인스턴스 또는 URL.
- **출력**:
  - 이미지 파일 경로.

---

## 4. Interact with Website
- **기능**: 버튼 클릭, 입력 필드 작성, 스크롤 등 웹사이트 내 동작 수행.
- **구현 세부사항**:
  1. LLM으로부터 클릭할 태그와 속성을 수신.
  2. **Interaction Tool**을 호출하여 동작 수행.
  3. 동작 후 새 HTML 소스 반환.
- **입력**:
  - 태그 및 속성 정보 (`action`, `target_tag`, `attributes`).
- **출력**:
  - 수행 결과 페이지의 HTML 소스.

---

## 5. Refine Search or Navigate
- **기능**: 검색 결과를 바탕으로 LLM이 제안하는 추가 검색어를 실행하거나 링크를 클릭하여 탐색.
- **구현 세부사항**:
  1. LLM이 제공한 새 검색어를 사용하여 **Perform Search** 실행.
  2. 제공된 URL로 이동하여 새 HTML 수집.
- **입력**:
  - 새 검색어 (`refined_query`) 또는 URL (`link`).
- **출력**:
  - 새 검색 결과 또는 페이지 HTML.

---

## 6. Loop and Iterate
- **기능**: LLM과 협력하여 검색 및 탐색 과정을 반복.
- **구현 세부사항**:
  1. 이전 결과를 LLM에 전송.
  2. 추가 명령이나 종료 신호를 대기.
  3. `threshold` 도달 시 종료.
- **입력**:
  - 이전 단계 결과.
  - LLM으로부터 받은 반복 요청.
- **출력**:
  - 최종 검색 결과 또는 종료 신호.

---

## 7. Handle Feedback
- **기능**: 사용자 피드백을 수신하여 작업 결과를 수정하거나 재검색 수행.
- **구현 세부사항**:
  1. 사용자 피드백을 분석하여 필요한 동작 결정.
  2. LLM의 가이드라인을 따라 검색 수정.
- **입력**:
  - 사용자 피드백 (`feedback`).
- **출력**:
  - 갱신된 결과.

---

## 8. Log Results
- **기능**: 검색 및 작업 결과를 저장.
- **구현 세부사항**:
  1. 검색어, 검색 결과, 주요 동작을 로그 파일에 저장.
  2. 오류 발생 시 **Error Logging Tool**과 연계.
- **입력**:
  - 수행된 작업 정보 (검색어, 동작, 결과 등).
- **출력**:
  - 로그 파일 또는 시스템 기록.

---

# 구현 고려사항
1. **Tools와 Actions 분리**: Actions는 고수준 논리만 포함하고, 실제 작업은 Tools에서 수행.
2. **에러 처리**: 특정 Tool 호출 실패 시 적절한 대체 동작 수행.
3. **LLM 통합**: 각 Action은 LLM과의 명확한 입력/출력 프로토콜을 준수해야 함.
4. **확장 가능성**: 새 Tools가 추가되더라도 Actions 레이어는 최소한의 수정으로 동작 가능해야 함.
