# Utils 명세

**Utils**는 에이전트의 동작을 지원하는 다양한 보조 기능을 제공합니다. 주요 역할은 데이터 전처리, 형식 변환, 유효성 검사, 로깅 등의 공통 기능을 수행하는 것입니다.

---

## 1. Data Cleaning Utility
- **기능**: 
  - HTML 또는 텍스트 데이터를 정리하여 불필요한 요소를 제거.
- **입력**:
  - 원시 HTML 또는 텍스트 데이터 (`raw_data`).
- **출력**:
  - 정리된 텍스트 또는 HTML 데이터 (`cleaned_data`).
- **주요 처리**:
  - 특수 문자 제거.
  - HTML 태그 제거 또는 정리.
  - 중복 데이터 제거.
- **사용 라이브러리**:
  - `re`, `BeautifulSoup`.

---

## 2. JSON Formatter Utility
- **기능**:
  - 데이터를 구조화된 JSON 형식으로 변환.
- **입력**:
  - 원시 데이터 (딕셔너리, 리스트, 텍스트 등).
- **출력**:
  - JSON 형식의 데이터 (`formatted_json`).
- **주요 처리**:
  - Python 데이터 구조를 JSON 문자열로 직렬화.
  - JSON 유효성 검사.
- **사용 라이브러리**:
  - `json`.

---

## 3. String Normalizer
- **기능**:
  - 텍스트 데이터를 표준 형식으로 정규화.
- **입력**:
  - 텍스트 데이터 (`raw_text`).
- **출력**:
  - 정규화된 텍스트 (`normalized_text`).
- **주요 처리**:
  - 대소문자 정리.
  - 공백 제거.
  - 특수 문자 정규화.

---

## 4. URL Validator
- **기능**:
  - URL의 유효성을 검사하고 잘못된 형식을 수정.
- **입력**:
  - URL 문자열 (`url`).
- **출력**:
  - 유효한 URL 또는 에러 상태.
- **사용 라이브러리**:
  - `validators`.

---

## 5. Log Formatter
- **기능**:
  - 로그 메시지를 일정한 형식으로 포맷팅.
- **입력**:
  - 로그 레벨 (INFO, ERROR, DEBUG 등).
  - 메시지 내용 (`message`).
- **출력**:
  - 포맷팅된 로그 문자열 (`formatted_log`).
- **주요 처리**:
  - 시간, 로그 레벨, 메시지를 포함한 표준 형식 적용.
- **사용 라이브러리**:
  - `logging`.

---

## 6. Parameter Validator
- **기능**:
  - LLM에서 전달받은 파라미터 또는 입력값의 유효성을 검사.
- **입력**:
  - 입력 데이터 (`parameters`).
  - 예상 데이터 형식 또는 스키마.
- **출력**:
  - 유효성 검사 결과 (True/False) 또는 수정된 파라미터.
- **사용 라이브러리**:
  - Python 기본 예외 처리 및 데이터 타입 검사.

---

## 7. HTML Compressor
- **기능**:
  - HTML 소스를 압축하여 LLM에 전달하기 적합한 크기로 축소.
- **입력**:
  - HTML 데이터 (`html_content`).
- **출력**:
  - 압축된 HTML 데이터 (`compressed_html`).
- **주요 처리**:
  - 주석 제거.
  - 불필요한 공백 제거.
  - 특정 태그만 유지.

---

## 8. Timer Utility
- **기능**:
  - 작업 실행 시간을 측정.
- **입력**:
  - 시작 및 종료 시간.
- **출력**:
  - 경과 시간 (초 단위).
- **사용 라이브러리**:
  - `time`.

---

## 9. Retry Mechanism Utility
- **기능**:
  - 특정 작업 실패 시 재시도 로직을 구현.
- **입력**:
  - 실행할 함수, 최대 재시도 횟수, 대기 시간.
- **출력**:
  - 작업 성공 여부 및 결과.
- **사용 라이브러리**:
  - `time`, `functools`.

---

## 10. File I/O Utility
- **기능**:
  - 데이터를 파일로 저장하거나 파일에서 데이터를 읽는 기능.
- **입력**:
  - 파일 경로, 저장할 데이터 또는 읽기 옵션.
- **출력**:
  - 파일 데이터 또는 저장 성공 여부.
- **사용 라이브러리**:
  - `os`, `json`, `csv`.

---

# 구현 고려사항
1. **모듈화**: 각 기능은 독립적으로 실행 가능해야 함.
2. **성능 최적화**: 대용량 데이터 처리 시 병목 현상이 없도록 효율적으로 구현.
3. **에러 처리**: 잘못된 입력에 대해 명확한 에러 메시지 반환.
4. **재사용성**: Utils는 Tools와 Actions에서 쉽게 호출될 수 있도록 설계.
